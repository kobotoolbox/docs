# إضافة معايير التحقق في واجهة إنشاء النماذج
**آخر تحديث:** <a href="https://github.com/kobotoolbox/docs/blob/9c216c0650cac549ce4c2836cb5b8a588a47357a/source/validation_criteria.md" class="reference">2 أكتوبر 2025</a>

<iframe src="https://www.youtube.com/embed/ya9usVpEo9Q?si=-rDzXcCRazcY0Bws" style="width: 100%; aspect-ratio: 16 / 9; height: auto; border: 0;" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

منطق التحقق، المعروف أيضًا بمعايير التحقق أو القيود، يحدد شروط الإجابة المقبولة على السؤال. تساعد هذه الخاصية في ضمان جودة البيانات العالية من خلال منع الإجابات العرضية أو غير الصحيحة.

يمكن تطبيق معايير التحقق على أي نوع من الأسئلة. على سبيل المثال، يمكنك استخدامها للتأكد من أن المشارك فوق سن معينة، أو أن التاريخ ضمن نطاق محدد، أو أن إدخال النص يطابق نمطًا معينًا.

هناك طريقتان لإضافة معايير التحقق في واجهة إنشاء النماذج: إضافة شرط عبر **أداة إنشاء معايير التحقق**، أو إدخال منطق التحقق يدويًا في **كود XLSForm.**


## إضافة شرط

تتيح لك أداة إنشاء معايير التحقق إضافة شروط لأسئلة **النص** و**الرقم** و**العدد العشري** و**التاريخ**. وهي غير متوافقة مع أسئلة **اختيار واحد** أو **اختيار متعدد**. لاستخدام الأداة:
1. افتح <i class="k-icon-settings"></i> **الإعدادات** في القائمة الجانبية اليمنى للسؤال.
2. حدد **معايير التحقق**، وانقر على **إضافة شرط.**
3. اختر عامل المنطق المناسب لشرطك (مثل، >، =، !=).
4. في حقل **قيمة الاستجابة**، حدد أو اكتب القيمة المطلوبة لكي تكون الاستجابة صحيحة.

<p class="note">
    <strong>ملاحظة:</strong> لإضافة معايير التحقق إلى أسئلة <strong>التاريخ</strong>، يجب أن تكون قيمة الاستجابة بتنسيق <code>YYYY-MM-DD</code>. على سبيل المثال، لتعيين معيار تحقق لتاريخ يكون قبل 1 يناير 2021، استخدم <code>< 2021-01-01</code>.
</p>

لإضافة شروط متعددة (مثل، قيمة دنيا وقيمة قصوى)، أضف شرطك الأول، ثم انقر على **إضافة شرط آخر.** عند استخدام شروط متعددة، حدد ما إذا كان يجب استيفاء شرط واحد على الأقل من هذه الشروط أو جميعها. يمكنك حذف الشروط بالنقر على <i class="k-icon-trash"></i> سلة المهملات.

إذا لم يتم استيفاء شروط التحقق، فلن يتم قبول الإدخال أثناء جمع البيانات. سيتم عرض [رسالة خطأ](#error-message).


## إدخال منطق التحقق يدويًا في كود XLSForm
بالنسبة للمستخدمين المتقدمين ولأسئلة **اختيار واحد** أو **اختيار متعدد**، يمكن إدخال معايير التحقق مباشرة في كود XLSForm.

لإدخال منطق التحقق يدويًا في كود XLSForm، اتبع الخطوات التالية:
1. افتح <i class="k-icon-settings"></i> **الإعدادات** في القائمة الجانبية اليمنى للسؤال.
2. حدد **معايير التحقق**، وانقر على **إدخال منطق التحقق يدويًا في كود XLSForm.**
3. أدخل المعايير في كود XLSForm.

في صيغة XLSForm، يتم استخدام النقطة `.` للإشارة إلى السؤال الحالي، ويتم استخدام `${question_name}` للإشارة إلى الأسئلة الأخرى. ستحتاج أيضًا إلى تضمين عامل المنطق ذي الصلة وقيمة الاستجابة.

### أمثلة على معايير التحقق

| المعيار             | الوصف                                  |
| :------------------- | :------------------------------------------- |
| `. > 17`             | يجب أن تكون الاستجابة أكبر من 17             |
| `. >= 17 and . <= 130` | يجب أن تكون الاستجابة مساوية أو بين 17 و130          |
| `not(${in_university} = 'yes' and . < 16)` | لا يمكن تقديم استجابة أقل من 16 إذا كانت الاستجابة على `in_university` هي "نعم"|
| `not(selected(., 'none') and count-selected(.)>1)`| لا يمكن اختيار "لا شيء" وخيارات أخرى في سؤال اختيار متعدد |


<p class="note">
    لمزيد من المعلومات حول كود XLSForm والعوامل، راجع <a href="https://xlsform.org/en/#constraints">وثائق XLSForm</a>.
</p>

## رسالة الخطأ
**رسالة الخطأ** هي رسالة اختيارية سيراها القائم بالمقابلة أو المستجيب عند إدخال استجابة غير صحيحة. يمكن تعيينها باستخدام كل من نهج **أداة إنشاء معايير التحقق** ونهج **كود XLSForm**، في أسفل المربع.

إذا لم يتم تحديد رسالة خطأ، فإن الرسالة الافتراضية هي "القيمة غير مسموح بها". عادةً ما تحدد رسائل الخطأ المخصصة معايير التحقق لمساعدة المستجيب على تصحيح إجابته (مثل، "يجب أن يكون العمر أكبر من 18").